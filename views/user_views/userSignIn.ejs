<%- include("partials/header") %>
<%- include("partials/navbar") %>

   

    <section class="login py-5 border-top-1 ">
        <div class="container my-3">
            <div class="row justify-content-center">
                <div class="col-lg-4 col-md-8 align-item-center " >
                    <div class="border" style="border-radius:30px;">
                        <h3 class="bg-gray p-4" style="border-radius:30px 30px 0 0; background:#c5dfe3">Login Now</h3>
                        <form action="/usersignIn" method="post" onsubmit="return validateForm()">
                            <% if(locals.message) { %>
                                <div id="msg" class="alert alert-success"><%- locals.message -%></div>
                                <%}%>
                                    <fieldset class="p-4" >
                                        <span id="emailError" class="text-danger"></span>
                                        <input class="form-control mb-3" type="email" id="emailInput" name="email" placeholder="Email">
                                        <span id="passwordError" class="text-danger"></span>
                                        <input class="form-control mb-3" type="password" id="passwordInput" name="password"
                                            placeholder="Password">
                                            
                                      

                                        <button type="submit" class="btn  font-weight-bold mt-3 my-4" style="background:#c5dfe3">Log
                                            in</button>
                                        <a class="mt-3 d-block text-primary" href="/loginWithOtp">Forget Password?</a>
                                        <a class="mt-3 d-inline-block text-primary" href="/userSignUp">Sign Up</a>
                                    </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>



   
    <script>
        setTimeout(() => {

            document.getElementById('msg').style.display = "none"

        }, 3000);
    </script>
   
<script>
    function validateForm() {
        var email = document.getElementById("emailInput").value;
        var password = document.getElementById("passwordInput").value;
        var emailError = document.getElementById("emailError");
        var passwordError = document.getElementById("passwordError");

        // Reset error messages
        emailError.textContent = "";
        passwordError.textContent = "";

        if (email.trim() === "") {
            emailError.textContent = "Please enter your email.";
            setTimeout(function() {
                emailError.textContent = "";
            }, 2000);
            return false;
        }

        if (password.trim() === "") {
            passwordError.textContent = "Please enter your password.";
            setTimeout(function() {
                passwordError.textContent = "";
            }, 2000);
            return false;
        }

        // Add more validation rules as needed

        return true;
    }
</script>

    <%- include("partials/footer") %>